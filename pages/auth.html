<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/styles/auth_styles.css"></link>
    
    <!-- ICON SDK JS is required by Ancilia -->
    <script src="https://cdn.jsdelivr.net/gh/icon-project/icon-sdk-js@latest/build/icon-sdk-js.min.js"></script>
    <!-- Ancilia is required by SpeakyTo -->
    <script src="/scripts/Ancilia.js"></script>
    <script src="/scripts/SpeakyTo.js"></script>

    <!-- iso_639-1 is required by render purposes -->
    <script src="/scripts/iso_639-1.js"></script>

    <!-- JQuery is required by render purposes -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <script>
        // SpeakyTo constants
        const NETWORK = IconNetworks.YEOUIDO
        const SPEAKYTO_SCORE = 'cxcc72743ef0614030397918b5c51c2a4d6fcfc5dd'

        // Instanciate Ancilia + SpeakyTo
        const ancilia = new Ancilia(NETWORK)
        const speakyto = new SpeakyTo(ancilia, SPEAKYTO_SCORE)
    </script>
    
    </head>

    <body>
        <div id="main-container">
            <div id="page-contents">
                <h1 id="auth"></h1>
                <div class="lds-roller"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
            </div>
        </div> 
        <script>
        window.onload = () => {
            // init account
            accountRefresh()
        }
        
        function accountRefresh() {
            
            if (ancilia.isLoggedIn()) {
                const address = ancilia.getLoggedInWallet()
                window.location.replace("/pages/qa_home.html")
                $("auth").html('Redirecting To Login Page')
                
            } else {
                
                $("#auth").html('Checking Login')
                window.location.replace("/pages/login.html")
            }
        }
            
        </script>
    </body>
    
</html>